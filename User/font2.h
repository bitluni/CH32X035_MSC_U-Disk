/*
 * font.h
 *
 *  Created on: 15 Mar 2023
 *      Author: luni
 */

#ifndef USER_FONT_H_
#define USER_FONT_H_

const char font[] ={
/*0b0000,
0b0000,
0b0000,
0b0000,
0b0000,*/

0b0110,
0b1001,
0b1001,
0b1001,
0b0110,

0b0010,
0b0110,
0b1010,
0b0010,
0b0111,

0b0110,
0b1001,
0b0010,
0b0100,
0b1111,

0b1110,
0b0001,
0b0110,
0b0001,
0b1110,

0b0100,
0b1000,
0b1111,
0b0100,
0b0100,

0b1111,
0b1000,
0b0110,
0b0001,
0b1110,

0b0111,
0b1000,
0b1110,
0b1001,
0b0110,

0b1111,
0b0001,
0b0010,
0b0100,
0b1000,

0b0110,
0b1001,
0b0110,
0b1001,
0b0110,

0b0110,
0b1001,
0b0111,
0b0001,
0b1110,
//:
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//;
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//<
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//=
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//>
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//?
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//@
0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
//A
0b0110,
0b1001,
0b1111,
0b1001,
0b1001,
//B
0b1110,
0b1001,
0b1110,
0b1001,
0b1110,
//C
0b0111,
0b1000,
0b1000,
0b1000,
0b0111,
//D
0b1110,
0b1001,
0b1001,
0b1001,
0b1100,
//E
0b1111,
0b1000,
0b1100,
0b1000,
0b1111,
//F
0b1111,
0b1000,
0b1100,
0b1000,
0b1000,
//G
0b0111,
0b1000,
0b1011,
0b1001,
0b0110,
//H
0b1001,
0b1001,
0b1111,
0b1001,
0b1001,
//I
0b1110,
0b0100,
0b0100,
0b0100,
0b1110,
//J
0b1110,
0b0010,
0b0010,
0b0010,
0b1100,
//K
0b1001,
0b1010,
0b1100,
0b1010,
0b1001,
//L
0b1000,
0b1000,
0b1000,
0b1000,
0b1111,
//M
0b1001,
0b1111,
0b1001,
0b1001,
0b1001,
//N
0b1001,
0b1001,
0b1101,
0b1011,
0b1001,
//O
0b0110,
0b1001,
0b1001,
0b1001,
0b0110,
//P
0b1110,
0b1001,
0b1110,
0b1000,
0b1000,
//Q
0b0110,
0b1001,
0b1001,
0b1011,
0b0111,
//R
0b1110,
0b1001,
0b1110,
0b1001,
0b1001,
//S
0b0111,
0b1000,
0b0110,
0b0001,
0b1110,
//T
0b1111,
0b0100,
0b0100,
0b0100,
0b0100,
//U
0b1001,
0b1001,
0b1001,
0b1001,
0b0110,
//V
0b1001,
0b1001,
0b1001,
0b1010,
0b0100,
//W
0b1001,
0b1001,
0b1001,
0b1111,
0b1001,
//X
0b1001,
0b1001,
0b0110,
0b1001,
0b1001,
//Y
0b1001,
0b1001,
0b1010,
0b0100,
0b0100,
//Z
0b1111,
0b0010,
0b0100,
0b1000,
0b1111,

0b0000,
0b0000,
0b0000,
0b0000,
0b0000,
};

#define min(a,b) ((a)<(b)?(a):(b))
#define max(a,b) ((a)>(b)?(a):(b))

void drawChar(int x, int y, char ch, int front = 255, int back = -1)
{
    for(int r = 0; r < 5; r++)
        for(int c = 0; c < 4; c++)
            if((unsigned int)(y + r) < yres &&
               (unsigned int)(x + c) < xres && (ch >= '0' && ch <= 'Z'))
            {
                if(font[5 * (ch - '0') + r] & (1 << (3 - c)))
                    pix(x + c, y + r, front);
                else if(back >= 0)
                    pix(x + c, y + r, back);
            }
}

void print(int x, int y, const char *text, int front = 255, int back = -1)
{
    while(*text)
    {
        char ch = text[0];
        text++;
        drawChar(x, y, ch, front, back);
        x += 4;
        if(back >= 0 && (unsigned int)x < xres)
            for(int r = max(y, 0); r < min(y + 5, yres); r++)
                pix(x, r, back);
        x++;
    }
}

#endif /* USER_FONT_H_ */
